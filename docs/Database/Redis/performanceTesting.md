## **环境说明**

#### 准备工作

- Windows 10 2004 版本（Windows 系统）
- Redis version 5.0.9

## **步骤说明**

**1. 在 redis 目录下执行如下命令：**

```cmd
# 语法：redis-benchmark [option] [option value]
redis-benchmark -n 10000  -q  #同时执行 10000 个请求来检测性能
redis-benchmark -h 127.0.0.1 -p 6379 -t set,lpush -n 10000 -q #测试主机为 127.0.0.1，端口号为 6379，执行的命令为 set,lpush，请求数为 10000，通过 -q 参数让结果只显示每秒执行的请求数
```

**2. 性能测试工具可选参数**

| 序号 | 选项  | 描述                                       | 默认值    |
| ---- | ----- | ------------------------------------------ | --------- |
| 1    | -h    | 指定服务器主机名                           | 127.0.0.1 |
| 2    | -p    | 指定服务器端口                             | 6379      |
| 3    | -s    | 指定服务器 socket                          |           |
| 4    | -c    | 指定并发连接数                             | 50        |
| 5    | -n    | 指定请求数                                 | 10000     |
| 6    | -d    | 以字节的形式指定 SET/GET 值的数据大小      | 2         |
| 7    | -k    | 1=keep alive 0=reconnect                   | 1         |
| 8    | -r    | SET/GET/INCR 使用随机 key, SADD 使用随机值 |           |
| 9    | -P    | 通过管道传输 <numreq> 请求                 | 1         |
| 10   | -q    | 强制退出 redis。仅显示 query/sec 值        |           |
| 11   | --csv | 以 CSV 格式输出                            |           |
| 12   | -l    | 生成循环，永久执行测试                     |           |
| 13   | -t    | 仅运行以逗号分隔的测试命令列表。           |           |
| 14   | -I    | Idle 模式。仅打开 N 个 idle 连接并等待。   |           |
